import{r as u,g as C,c as a,a as e,F as _,b as h,d as v,t as s,w as y,v as $,h as k,o as c,i as D}from"./index-CocSZyzB.js";const T={class:"container mt-5"},V={class:"row"},B={class:"col-md-4"},M={class:"list-group"},S=["onClick"],U={class:"d-flex w-100 justify-content-between"},j={class:"mb-1"},F={class:"mb-1"},N={class:"col-md-8"},Q={key:0,class:"alert alert-primary text-center",role:"alert"},E={key:1},L={class:"table"},O=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),q=["onClick"],z=["onUpdate:modelValue","onChange"],A=["value"],G={class:"text-end mb-3"},H={class:"text-end"},J=e("hr",null,null,-1),K={class:"row justify-content-center"},P={class:"col-md-8"},R={key:0,class:"alert alert-primary text-center",role:"alert"},W={key:1,class:"card"},X={class:"card-body"},Y=e("div",{class:"card-title"},[e("h3",null,"訂單")],-1),Z={class:"table"},I=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"小計")])],-1),ee={class:"text-end mb-3"},te=e("br",null,null,-1),le=e("br",null,null,-1),ne={__name:"week3",setup(se){const p=u([{id:1,name:"珍珠奶茶",detail:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",detail:"清新冬瓜配上新鮮檸檬",price:50},{id:3,name:"翡翠檸檬",detail:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",detail:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",detail:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",detail:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",detail:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",detail:"抹茶與鮮奶的絕配",price:60}]),d=u({}),n=u([]),f=o=>{const l=n.value.find(t=>t.name===o.name);l?l.amount+=1:n.value.push({...o,id:new Date().getTime(),amount:1})},w=o=>{n.value=n.value.map(l=>(l.id===o.id&&(l.sum=parseInt(o.price)),l))},g=o=>{n.value=n.value.filter(l=>l.id!==o)},m=o=>o.price*o.amount,b=C(()=>n.value.reduce((o,l)=>o+l.price*l.amount,0)),r=u(""),x=()=>{d.value={id:new Date().getTime(),cart:n.value,description:r.value,total:b.value},console.log(d.value),n.value=[],r.value=""};return(o,l)=>(c(),a("div",T,[e("div",V,[e("div",B,[e("div",M,[(c(!0),a(_,null,h(p.value,t=>(c(),a("a",{href:"#",class:"list-group-item list-group-item-action",key:p.value.id,onClick:k(i=>f(t),["prevent"])},[e("div",U,[e("h5",j,[v(s(t.name)+" ",1),e("small",null,"$"+s(t.price),1)])]),e("p",F,s(t.detail),1)],8,S))),128))])]),e("div",N,[n.value.length===0?(c(),a("div",Q," 請選擇商品 ")):(c(),a("div",E,[e("table",L,[O,e("tbody",null,[(c(!0),a(_,null,h(n.value,t=>(c(),a("tr",{key:n.value.id},[e("td",null,[e("button",{onClick:i=>g(t.id),class:"btn btn-secondary btn-sm",type:"button"}," x ",8,q)]),e("td",null,s(t.name),1),e("td",null,[e("small",null,s(t.detail),1)]),e("td",null,[y(e("select",{class:"form-select","onUpdate:modelValue":i=>t.amount=i,onChange:i=>w(t)},[(c(),a(_,null,h(10,i=>e("option",{key:i,value:i},s(i),9,A)),64))],40,z),[[D,t.amount]])]),e("td",null,s(t.price),1),e("td",null,s(m(t)),1)]))),128))])]),e("div",G,[e("h4",null,[v(" 總計："),e("span",null,"$"+s(b.value),1)]),y(e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t)},null,512),[[$,r.value]]),e("div",H,[e("button",{onClick:k(x,["prevent"]),class:"btn btn-primary"},"送出")])])]))])]),J,e("div",K,[e("div",P,[d.value.id?(c(),a("div",W,[e("div",X,[Y,e("table",Z,[I,e("tbody",null,[(c(!0),a(_,null,h(d.value.cart,t=>(c(),a("tr",{key:t.id},[e("td",null,s(t.name),1),e("td",null,s(t.amount),1),e("td",null,s(m(t)),1)]))),128))])]),e("div",ee,[e("div",null,"備註："+s(d.value.description),1),te,e("h4",null,[v(" 總計："),e("span",null,"$"+s(d.value.total),1)])])])])):(c(),a("div",R," 尚未建立訂單 "))])]),le]))}};export{ne as default};
